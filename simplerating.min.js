!function(jQuery){jQuery.fn.simplerating=function(options){var settings={rating_number:5,rating_text:{},image:"",hidden_input:"rating_simplerating",image_width:"",initial_rating:0,callback_on_click:""},unactive=!1;if(options&&jQuery.extend(settings,options),jQuery("#"+settings.hidden_input).val(settings.initial_rating),""==settings.image||null==settings.image)return trigger_error(this,"Simplerating : You must provide an image url"),!1;if(settings.rating_number<=0||null==settings.rating_number)return trigger_error(this,"Simplerating : You must provide a rating number"),!1;if(!settings.hidden_input)return trigger_error(this,"Simplerating : An hidden input is required to store the user's choice"),!1;if(0==jQuery("#"+settings.hidden_input).length?jQuery(this).append('<input type="hidden" autocomplete="off" value="'+settings.initial_rating+'" name="'+settings.hidden_input+'" id="'+settings.hidden_input+'">'):jQuery("#"+settings.hidden_input).val(settings.initial_rating),!jQuery.isEmptyObject(settings.rating_text))for(test_text=settings.rating_number;test_text>0;test_text--)if(!settings.rating_text[test_text])return trigger_error(this,'SimpleRating : The parameter "rating_text" must contains all the rating number available or must be set omitted, missing rating : '+test_text),!1;for(i=1;i!==settings.rating_number+1;i++){var append='<img src="'+settings.image+'"  width="'+settings.image_width+'" style="margin-left:5px;" id="rate_'+settings.hidden_input+"["+i+']" data="'+i+'" class="img-rate img-rate_'+settings.hidden_input;i>=settings.initial_rating+1&&(append+=" low-opacity"),append+='"/>',jQuery(this).append(append)}function trigger_error(t,i){console.error(i),jQuery(t).html("SimpleRating : error, see console log")}jQuery.isEmptyObject(settings.rating_text)||(number_text='<div class="simplerating-text" id="simplerating-text_'+settings.hidden_input+'" style="min-height:30px;">',settings.rating_text[parseInt(settings.initial_rating)]&&(number_text+=settings.rating_text[parseInt(settings.initial_rating)]),number_text+="</div>",jQuery(this).append(number_text)),jQuery(".img-rate_"+settings.hidden_input).hover(function(t){if(choice=parseInt(jQuery(this).attr("data")),!unactive){for(i=1;i<=choice;i++)jQuery("#rate_"+settings.hidden_input+"\\["+i+"\\]").removeClass("low-opacity");for(i=choice+1;i<=settings.rating_number;i++)jQuery("#rate_"+settings.hidden_input+"\\["+i+"\\]").addClass("low-opacity");settings.rating_text[choice]&&jQuery("#simplerating-text_"+settings.hidden_input).html(settings.rating_text[choice])}}),jQuery(".img-rate_"+settings.hidden_input).mouseleave(function(t){if(!unactive){var e=parseInt(jQuery("#"+settings.hidden_input).val());null==e&&(e=settings.initial_rating);var n=settings.rating_number;for(i=e+1;i<=n;i++)jQuery("#rate_"+settings.hidden_input+"\\["+i+"\\]").addClass("low-opacity");for(i=1;i<=e;i++)jQuery("#rate_"+settings.hidden_input+"\\["+i+"\\]").removeClass("low-opacity");settings.rating_text[jQuery("#"+settings.hidden_input).val()]?jQuery("#simplerating-text_"+settings.hidden_input).html(settings.rating_text[parseInt(jQuery("#"+settings.hidden_input).val())]):jQuery("#simplerating-text_"+settings.hidden_input).html("")}}),jQuery(".img-rate_"+settings.hidden_input).click(function(){if(!unactive){for(i=1;i!==parseInt(jQuery(this).attr("data"))+1;i++)jQuery("#rate_"+settings.hidden_input+"\\["+i+"\\]").removeClass("low-opacity");jQuery("#"+settings.hidden_input).val(jQuery(this).attr("data")),""!==settings.callback_on_click&&(eval(settings.callback_on_click+"()"),unactive=!0)}})}}(jQuery);